{{ define "slackBody" }}
â›ˆï¸ {{ len .Alerts.Firing }} Firing. âœ… {{ len .Alerts.Resolved }} Resolved.
{{- if gt (len .Alerts.Firing) 0 }}{{ with (index .Alerts.Firing 0) }}

{{ if .Annotations.runbook_url -}}
    ğŸ”§ <{{ .Annotations.runbook_url }}|Fix>
  {{- else -}}
    ğŸ”§ ~Fix~
  {{- end -}},
  {{- if .SilenceURL -}}
    ğŸ”• <{{ .SilenceURL }}|Mute>
  {{- end -}},
  {{- if .DashboardURL -}}
    ğŸ“Š <{{ .DashboardURL }}&from={{ .StartsAt.UnixMilli }}-5m&time={{ .StartsAt.UnixMilli }}&time.window=600000
    {{- range .Labels.SortedPairs -}}
      &var-{{ .Name }}={{ .Value }}
    {{- end -}}|Dashboard>
  {{- else -}}
    ğŸ“Š ~Dashboard~
  {{- end -}},
  {{- if .PanelURL -}}
    ğŸ“ˆ <{{ .PanelURL }}&from={{ .StartsAt.UnixMilli }}-5m&time={{ .StartsAt.UnixMilli }}&time.window=600000
    {{- range .Labels.SortedPairs -}}
      &var-{{ .Name }}={{ .Value }}
    {{- end -}}|Panel>
  {{- else -}}
    ğŸ“ˆ ~Panel~
  {{- end -}},
  {{- if .Annotations.alert_url -}}
    âœï¸ <{{ .Annotations.alert_url }}|Edit Alert>
  {{- else -}}
    âœï¸ ~Edit Alert~
  {{- end }}


{{ if .Annotations.summary -}}
  *[{{ .Status }}] {{ .Annotations.summary }}*
{{- end }}

{{ if .Labels.author -}}
  *author:* {{ .Labels.author }}
{{ else -}}
    *author:* Up for adoption ğŸ¥º
{{ end }}

{{ if .Annotations.description -}}
  {{ .Annotations.description }}
{{- end }}
{{- end }}{{/* end with (index .Alerts.Firing 0) */}}
{{- end }}{{/* end gt (len .Alerts.Firing) 0 */}}
{{ if gt (len .Alerts.Firing) 0 }}

  â›ˆï¸ *All {{ len .Alerts.Firing }} Firing*
  {{- range .Alerts.Firing }}

- {{ .Annotations.summary }} {{ if .PanelURL -}}
    (<{{ .PanelURL }}&from={{ .StartsAt.UnixMilli }}-5m&time={{ .StartsAt.UnixMilli }}&time.window=600000
    {{- range .Labels.SortedPairs -}}
      &var-{{ .Name }}={{ .Value }}
    {{- end -}}|ref>)
    {{- end }}

  {{- end }}
{{ end -}}
{{ if gt (len .Alerts.Resolved) 0 }}

  âœ… *All {{ len .Alerts.Resolved }} Resolved*
  {{- range .Alerts.Resolved }}

- {{ .Annotations.summary }} {{ if .PanelURL -}}
    (<{{ .PanelURL }}&from={{ .StartsAt.UnixMilli }}-5m&time={{ .StartsAt.UnixMilli }}&time.window=600000
    {{- range .Labels.SortedPairs -}}
      &var-{{ .Name }}={{ .Value }}
    {{- end -}}|ref>)
    {{- end }}

  {{- end }}
{{- end }}


{{ end }} {{/* end  (define slack body) */}}
